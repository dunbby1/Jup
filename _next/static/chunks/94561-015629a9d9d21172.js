"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94561],{64138:function(e,t,n){n(93981);var r=n(85394),o=n(29541);t.Z=function(e){var t=e.width,n=e.height,i=e.className;return(0,o.jsx)("div",{style:{maxWidth:t,height:n},className:"flex w-screen min-w-full items-center justify-center space-y-6 bg-white/5 p-5 backdrop-blur-[20px] ".concat(i),children:(0,o.jsx)(r.Z,{})})}},51232:function(e,t,n){n.d(t,{w_:function(){return a}});var r=n(63956);n(65558),n(13838),n(11421);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return Object.keys(e).reduce((function(t,n){var o=e[n];return o?i(i({},t),{},(0,r.Z)({},n,"string"===typeof o?o:"function"===typeof o.toString?o.toString():"")):t}),{})}},41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return c}});var r=n(97620),o=n(88932),i=n(93981),a=n(48645),s=n(13170),l=n(29541),u=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,o=e.sqSize,i=void 0===o?14:o,a=(i-r)/2,s="0 0 ".concat(i," ").concat(i),u=a*Math.PI*2,c=u-u*t/100;return(0,l.jsxs)("svg",{width:i,height:i,viewBox:s,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-white-75",cx:i/2,cy:i/2,r:a,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:i/2,cy:i/2,r:a,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(i/2," ").concat(i/2,")"),style:{strokeDasharray:u,strokeDashoffset:c}})]})},c=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,u=e.refresh,c=i.useState((0,o.Z)((new Date).getTime(),n)),d=(0,r.Z)(c,2),m=d[0],p=d[1];return(0,a.Z)((function(){if(!t){var e=(0,o.Z)((new Date).getTime(),n);p(e),e>=s.GJ&&(l||0)>0&&u()}}),1e3),{timeDiff:m}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,o=e.refresh,a=c({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:o}).timeDiff,d=i.useCallback((function(e){e.stopPropagation(),o()}),[o]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(u,{sqSize:10,percentage:a/s.GJ*100})})}},57715:function(e,t,n){n.d(t,{ZP:function(){return y},Kc:function(){return w},BE:function(){return b}});var r=n(8473),o=n(4707),i=n(93981),a=n(13215),s=n(24201),l=n(96065),u=n(70602),c=n(81652),d=n(25546),m=n(70006),p=n(39268),f=n.n(p),x=n(64138),v=n(29541),h=f()((function(){return n.e(77829).then(n.bind(n,77829))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[77829]}}}),g=f()((function(){return n.e(26170).then(n.bind(n,26170))}),{loading:function(){return(0,v.jsx)(x.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[26170]}}}),j=function(e){var t=e.control,n=(0,a.qo)({control:t,name:"selectedRoute"}),r="Graphviz"===i.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?g:h;return(0,v.jsx)(r,{quoteResponse:null===n||void 0===n?void 0:n.quoteResponse})},b={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},w=function(e){var t=0,n=new Set,r=new Set,o=new Set;return e.forEach((function(e){var i=e.swapInfo,a=i.inputMint,s=i.label,l=i.ammKey;o.has(a)?t+=1:o.add(a),r.add(l.toString()),n.add(b[s]||s)})),{splits:t,labels:n,ammKeys:r}},y=function(e){var t,n=e.loading,p=e.control,f=(0,c.jB)(),x=f.onlyDirectRoutes,h=f.setOnlyDirectRoutes,g=(0,m.JT)().openModal,b=(0,a.qo)({control:p,name:"selectedRoute"}),y=i.useMemo((function(){return b?w(b.quoteResponse.routePlan):null}),[b]),k=(0,d.Nr)(n,100),N=(0,d.Nr)(Boolean(!b||!y),100);return(0,v.jsxs)("div",{children:[(0,v.jsxs)("button",{type:"button",className:(0,s.cn)("group relative flex w-full items-center space-x-1 overflow-hidden transition-all",N?"h-0 opacity-0":"h-[22px] opacity-100",k?"pointer-events-none opacity-50 blur-xs":"opacity-100"),onClick:function(){g((0,v.jsx)(j,{control:p}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[(0,v.jsx)("div",{className:(0,s.cn)("rounded-full border border-v2-primary","group-hover:from-v2-primary/25 group-hover:to-v2-primary/25"),children:(0,v.jsx)("span",{className:(0,s.cn)("flex items-center space-x-1 rounded-[100px] bg-[rgba(199,242,132,0.1)] text-xxs","group-hover:bg-[#3a474f]"),children:(0,v.jsxs)("span",{className:(0,s.cn)("flex items-center whitespace-nowrap px-2 py-0.5 text-v2-primary","font-semibold group-hover:text-v2-primary"),children:[(0,v.jsx)(u.Z,{className:"mb-px text-v2-primary group-hover:text-v2-primary"}),(0,v.jsxs)(v.Fragment,{children:[function(){var e=((null===y||void 0===y?void 0:y.splits)||0)+1;return e>1?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.cC,{id:"jNns1a",values:{numRoutes:e}})," ","+"," "]}):null}(),((null===y||void 0===y?void 0:y.ammKeys.size)||0)>0&&(0,v.jsx)(r.cC,{id:"lKVG55",values:{0:null!==(t=null===y||void 0===y?void 0:y.ammKeys.size)&&void 0!==t?t:""}})]})]})})}),(0,v.jsxs)("div",{className:"flex w-full items-center justify-between space-x-2",children:[(0,v.jsx)("span",{className:"max-w-[120px] truncate text-left text-xs text-white-50 group-hover:text-v2-primary md:max-w-[200px]",children:(null===y||void 0===y?void 0:y.labels)&&(0,v.jsx)(r.cC,{id:"74MSE4",values:{0:Array.from(y.labels).join(", ")}})}),(0,v.jsx)(l.Z,{className:"ml-auto text-black-35 group-hover:text-v2-primary"})]})]}),x&&(0,v.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,v.jsx)("p",{children:o.ag._({id:"yoZ1FV"})}),(0,v.jsx)("div",{onClick:function(){return h(!1)},className:"mt-2 cursor-pointer underline",children:o.ag._({id:"rPl9v6"})})]})]})}},94561:function(e,t,n){n.d(t,{Z:function(){return Ot}});var r=n(27195),o=n(70107),i=n(97620),a=n(63956),s=n(8857),l=n.n(s),u=n(8473),c=n(4707),d=n(14131),m=n(32532),p=n(72215),f=n(27177),x=n(7744),v=n(13838),h=n(9319),g=n.n(h),j=n(93981),b=n(13215),w=n(59644),y=n(44495),k=n(13170),N=n(42082),S=n(89521),T=n(22466),C=n(24201),O=n(25546),P=n(99438),M=n(56100),Z=n(82625),V=n(69825),A=n(29541),R=function(e){var t=e.loading,n=e.name,r=e.control,o=e.disabled,i=e.onFocus,a=e.onKeyDown,s=e.onPaste,l=e.placeholder,u=e.onChange,c=e.tokenAmountClassname,d=e.usdValueClassname,m=(0,p.Bn)().getTokenInfo,f=j.useRef(null),x=(0,b.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),v=j.useMemo((function(){return m(x)}),[m,x]);return(0,A.jsx)(b.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var r=e.field,m=r.onChange,p=r.value,h=r.onBlur;return(0,A.jsxs)("div",{className:"flex h-full flex-col text-right",children:[t||!v?(0,A.jsx)(M.O,{className:"ml-2 h-6 w-24 self-end"}):(0,A.jsx)(V.Z,{name:n,className:(0,C.cn)("outline-none disabled:!text-white",c),decimals:v.decimals,onChange:u?function(e){m(e),u(e)}:m,value:null===p||void 0===p?void 0:p.value,disabled:o,ref:f,onBlur:h,onFocus:i,onKeyDown:a,onPaste:s,placeholder:l}),t?(0,A.jsx)(M.O,{className:"ml-2 mt-0.5 h-4 w-8 self-end"}):null!==p&&void 0!==p&&p.value?(0,A.jsx)("div",{className:(0,C.cn)("text-xs text-white-35"),onClick:function(){var e;return null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.focus()},children:(0,A.jsx)(Z.Z,{tokenAddress:x,value:p,className:d})}):null]})}})},I=n(41264),D=n(65670),B=n(1242),E=n(69667),_=n(70006),L=n(59978),F=function(e){var t=e.control,n=e.name,r=e.modalId,o=e.getValues,a=e.disableTokenSelect,s=(0,p.Bn)(),l=s.getTokenInfo,u=s.tokenMap,c=(0,_.JT)(),d=c.closeModal,m=c.openContextualModal,f=c.setContextValue,x=c.ModalContextConsumer,v=(0,N.T)(),h=(0,b.bc)({control:t,name:n}).field,g=(0,b.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),w=(0,i.Z)(g,2),y=w[0],k=w[1],S=(0,j.useMemo)((function(){return"fromTokenAddress"===n?y:k}),[y,k,n]),T=(0,j.useMemo)((function(){return l(S)}),[l,S]),O=(0,j.useMemo)((function(){return Array.from(u.values()).map((function(e){return e.address}))}),[u]),P=(0,j.useCallback)((function(e){x&&(f(r,O),m(r,O,(0,A.jsx)(x,{children:function(t){return(0,A.jsx)(D.ZP,{onSubmit:function(t){e.current(t)},mintsList:t,bestTokens:B.KG})}}),{position:"top",noCloseButton:!0}))}),[x,O,r,m,f]),M=(0,j.useCallback)((function(e){var t,r;if(e){var i,a,s=o(),u=s.toTokenAddress,c=s.fromTokenAddress;if("fromTokenAddress"===n)u===e.address?(i=e,a=l(c)):(i=e,a=l(u));else c===e.address?(i=l(u),a=e):(i=l(c),a=e);h.onChange("fromTokenAddress"===n?null===(t=i)||void 0===t?void 0:t.address:null===(r=a)||void 0===r?void 0:r.address),v(i,a),d()}}),[d,h,l,o,n,v]),Z=(0,j.useRef)(M);return Z.current=M,(0,j.useEffect)((function(){f(r,O)}),[r,f,O]),(0,A.jsx)("div",{className:"group/select flex items-center justify-between",children:(0,A.jsxs)("button",{type:"button",disabled:a,className:(0,C.cn)("flex h-10 items-center space-x-3 rounded-lg border-transparent px-3 py-2",a?"":"border bg-v2-background-page group-hover/select:border-v2-primary/50 group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),onClick:function(){return P(Z)},children:[(0,A.jsx)("div",{className:"rounded-full",children:(null===T||void 0===T?void 0:T.logoURI)&&(0,A.jsx)(L.Z,{width:24,height:24,info:T})}),(0,A.jsx)("div",{className:"text-sm font-semibold",translate:"no",children:null===T||void 0===T?void 0:T.symbol}),!a&&(0,A.jsx)("div",{className:"fill-current text-white/25 group-hover/select:text-v2-primary",children:(0,A.jsx)(E.Z,{})})]})})},q=n(13154),K=n(28940),z=n(55948),U=n(43723),G=n(24684),H=n(12627),W=n(3082),Q=n(74925),Y=n(99882),J=n(89349),X=n(60021),$=n(39913),ee=n(88381),te=n(62348),ne=n(45009),re=n(41144);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e,t){return{name:t,timestamp:1e3*e.unixTime,price:e.value}};var se=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&"number"===typeof n[0].value){var r=n[0].value,o=(0,H.Z)(n[0].payload.timestamp,"p");return(0,A.jsxs)("div",{className:"flex flex-col rounded-md bg-black px-2 py-1 text-xs",children:[(0,A.jsx)("span",{children:o}),(0,A.jsxs)("span",{className:"flex h-5 items-center space-x-1",children:[(0,A.jsx)("span",{children:"$"}),(0,A.jsx)("span",{children:Number(r)<1e-6?(0,A.jsx)(ee.ZP,{value:Number(r),maxSuffix:6}):(0,A.jsx)("span",{children:new v.Z(r).toDP(6).toString()})})]})]})}return null},le=function(e){var t=e.token,n=e.priceInUsd,r=j.useCallback((function(e){var t=String(e).split(".");return t.length>1?t[1].length:0}),[]);return Number.isNaN(Number(null===n||void 0===n?void 0:n.usd))?(0,A.jsx)(A.Fragment,{children:"N/A"}):Number(null===n||void 0===n?void 0:n.usd)<1e-6?(0,A.jsx)(ee.ZP,{value:Number(null===n||void 0===n?void 0:n.usd),maxSuffix:6}):r(null===n||void 0===n?void 0:n.usd)>t.decimals?(0,A.jsx)(A.Fragment,{children:null===n||void 0===n?void 0:n.usd.toFixed(t.decimals)}):(0,A.jsx)(A.Fragment,{children:null===n||void 0===n?void 0:n.usd})},ue=function(e){var t=e.token,n=(0,f.XA)(),o=(0,W.useRouter)(),i=function(e,t){var n=e.token,o=e.interval,i=void 0===o?"":o,a=t.enabled,s=n.address,u=j.useMemo((function(){var e=new Date;return new URLSearchParams({address:s,type:"5m",time_to:(e.getTime()/1e3).toFixed(0)})}),[s]),c="".concat("https://birdeye-proxy.jup.ag/defi/history_price","?").concat(u.toString());return ie(ie({},(0,ne.a)(["".concat(s,"-useChartData-").concat(i)],(0,r.Z)(l().mark((function e(){var t,n,r,o,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,re.ZP.get(c).json();case 5:return t=e.sent,n=t.data,r=new v.Z(n.items[n.items.length-1].value),o=new v.Z(n.items[0].value),i=new v.Z(r).div(o),e.abrupt("return",{marketChart:n.items.map(ae),change24H:new v.Z(i).sub(1).mul(100).toDP(2).toNumber()});case 13:throw e.prev=13,e.t0=e.catch(2),console.error("useChartData",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),{enabled:a&&Boolean(s),refetchInterval:6e4,staleTime:6e4,retry:1,retryDelay:1e4,keepPreviousData:!0})),{},{apiURL:{marketChart:c}})}({token:t,interval:"5m"},{enabled:o.isReady}),a=i.data,s=(0,j.useMemo)((function(){var e=null===a||void 0===a?void 0:a.marketChart[(null===a||void 0===a?void 0:a.marketChart.length)-1];return e&&null!==e&&void 0!==e&&e.price?{usd:e.price,timestamp:Number(e.timestamp),source:"birdeye"}:null}),[null===a||void 0===a?void 0:a.marketChart]),u=(0,j.useMemo)((function(){if(!a)return null;var e=O.uf.format(String(a.change24H));return a.change24H>0?"+".concat(e,"%"):"".concat(e,"%")}),[a]),c=(0,j.useMemo)((function(){return"https://ape.pro/solana/".concat(t.address)}),[t.address]);return(0,A.jsxs)("div",{className:"flex justify-between text-white",translate:"no",children:[(0,A.jsxs)("div",{className:"flex w-full max-w-[60%] items-center space-x-3 text-ellipsis md:max-w-[35%]",children:[(0,A.jsx)(L.Z,{info:t,width:24,height:24}),(0,A.jsxs)("div",{className:"flex flex-col",children:[(0,A.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,A.jsx)("span",{className:"text-sm font-semibold text-white-75",children:t.symbol}),(0,A.jsx)(te.Z,{tokenInfo:t,customUrl:c})]}),(0,A.jsx)("span",{className:"text-ellipsis text-xs text-white-50",children:t.name})]})]}),(0,A.jsxs)("div",{className:"w-full max-w-[50%]",children:[(0,A.jsxs)("div",{className:"flex w-full items-center",children:[s&&(0,A.jsx)("span",{className:"mr-2.5 w-3/5 text-ellipsis text-[14px] font-semibold",children:(0,A.jsx)(le,{token:t,priceInUsd:s})}),(0,A.jsx)("span",{className:"mr-2.5 w-2/5 text-ellipsis text-[14px] font-semibold ".concat(((null===a||void 0===a?void 0:a.change24H)||0)>=0?"text-jupiter-jungle-green":"text-[#FF0000]"),children:u})]}),(0,A.jsx)("svg",{width:0,height:0,children:(0,A.jsx)("defs",{children:(0,A.jsxs)("linearGradient",{id:"linear",children:[(0,A.jsx)("stop",{offset:"0%",stopColor:"#FCC00A"}),(0,A.jsx)("stop",{offset:"100%",stopColor:"#4EBAE9"})]})})}),(0,A.jsx)("div",{className:"flex h-6 w-full items-center",children:null!==a&&void 0!==a&&a.marketChart?(0,A.jsx)(Q.h,{width:"100%",height:24,children:(0,A.jsxs)(Y.w,{data:a.marketChart,children:[(0,A.jsx)(J.u,{position:{x:n?-64:230,y:n?-16:-6},content:function(e){return(0,A.jsx)(se,{active:e.active,payload:e.payload})}}),(0,A.jsx)(X.x,{type:"monotone",dataKey:"price",stroke:"url(#linear)",strokeWidth:2,dot:!1}),(0,A.jsx)($.B,{hide:!0,domain:["dataMin","dataMax"]})]})}):null})]})]})},ce=n(44517),de=n(25224),me="!text-jupiter-jungle-green",pe="!text-jupiter-primary",fe="!text-jupiter-red",xe=function(e){var t=e.loading,n=(0,G.tX)(),r=n.rate,o=n.isMoreExp,i=n.isDanger,a=n.isWarning,s=n.percent,l=n.formattedPercent,d=n.isWithinTwoPercent,m=(0,j.useMemo)((function(){return o&&!d?c.ag._({id:"rmtEqi",values:{formattedPercent:l}}):o?c.ag._({id:"N3czIx",values:{formattedPercent:l}}):0===s?"< ".concat(de.uf.format(.1),"% cheaper"):"".concat(l,"% cheaper")}),[o,l,d,s]),p=(0,j.useMemo)((function(){return a?pe:i?fe:me}),[i,a]);return null!==r&&m?(0,A.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,A.jsx)("div",{className:"justify-start text-white-50",children:(0,A.jsx)(u.cC,{id:"gY2ZKQ"})}),(0,A.jsx)("div",{className:"flex flex-col text-xs",children:t?(0,A.jsx)(M.O,{className:"mt-1 h-3 w-20"}):(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{className:"flex w-full flex-row justify-end",children:[(0,A.jsx)("span",{className:"".concat(p," text-end"),children:m}),(0,A.jsx)("div",{className:"fill-current ".concat(p)})]})})})]}):null},ve=n(87148),he=n(40558),ge=function(e){var t=e.loading,n=e.hasAtaDeposit,r=e.feeInformation,o=(0,ve.Z)(n),i=t&&o;return n||i?(0,A.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,A.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,A.jsx)(u.cC,{id:"kj3M8S"}),(0,A.jsx)(he.Z,{variant:"dark",content:(0,A.jsx)("div",{className:"max-w-xs rounded-lg text-white-75",children:(0,A.jsx)("ul",{className:"pl-2",children:n&&(0,A.jsx)("li",{children:(0,A.jsx)("p",{children:(0,A.jsx)(u.cC,{id:"qH7KBw"})})})})}),children:(0,A.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),i?(0,A.jsx)(M.O,{className:"h-4 w-12 self-end"}):(0,A.jsx)("div",{className:"w-1/2 text-right text-xs text-white-50",children:function(){var e,t,o=[n&&r&&(0,A.jsx)("p",{children:(0,A.jsx)(u.cC,{id:"LrkXG5",values:{0:O.uf.format((0,O.lt)(r.ataDeposits.reduce((function(e,t){return e+=t}),0),9).toString()),1:null===r||void 0===r||null===(e=r.ataDeposits)||void 0===e?void 0:e.length,2:(null===r||void 0===r||null===(t=r.ataDeposits)||void 0===t?void 0:t.length)||0}})},"ata")].filter(Boolean);return o.length?o:"-"}()})]}):null},je=n(90342),be=function(e){var t=e.feeInformation,n=(0,je.gs)().userMaxFeeInSOL,r=(0,j.useMemo)((function(){if(!t)return"-";var e=t.signatureFee;return new v.Z(e).div(Math.pow(10,9)).add("number"===typeof n&&n||0).toString()}),[t,n]);return(0,A.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,A.jsxs)("div",{className:"flex w-1/2 text-white-50",children:[(0,A.jsx)(u.cC,{id:"KS/Yzj"}),(0,A.jsx)(he.Z,{content:(0,A.jsx)(u.cC,{id:"kxQ1tI"}),children:(0,A.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,A.jsxs)("div",{className:"text-white-50",children:[r," SOL"]})]})},we=function(e){var t,n=e.loading,r=e.route,o=e.inputPair,i=e.outputPair,a=(0,G.gJ)(),s=(0,ce.v)(r),l=s.priceImpactText,c=s.priceImpactColor,m=(0,j.useMemo)((function(){var e=r.swapMode===d.jr.ExactIn?i:o,t=new v.Z(r.otherAmountThreshold.toString()).div(Math.pow(10,e.decimals)),n=O.uf.format(t);return"".concat(n," ").concat(e.symbol)}),[r.swapMode,r.otherAmountThreshold,i,o]),p=(null!==(t=null===a||void 0===a?void 0:a.ataDeposits.length)&&void 0!==t?t:0)>0,f=a;return(0,A.jsx)("div",{className:"mt-3 w-full rounded-lg border border-v2-lily/10 p-5 text-xs",children:(0,A.jsxs)("div",{className:"space-y-1",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,A.jsx)("div",{className:"text-white-50",children:r.swapMode===d.jr.ExactIn?(0,A.jsx)(u.cC,{id:"lTmG/H"}):(0,A.jsx)(u.cC,{id:"n8E9U9"})}),(0,A.jsx)("div",{className:"text-white-50",children:m})]}),(0,A.jsx)(be,{feeInformation:f}),(0,A.jsx)(ge,{loading:n,hasAtaDeposit:p,feeInformation:f}),(0,A.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,A.jsx)("div",{className:"text-white-50",children:(0,A.jsx)(u.cC,{id:"T+qgFw"})}),(0,A.jsx)("div",{className:c,children:l})]}),(0,A.jsx)(xe,{loading:n})]})})},ye=function(e){var t=e.loading,n=e.control,r=e.intervalRefresher,o=(0,b.qo)({control:n,name:"selectedRoute"}),a=(0,b.qo)({control:n,name:"fromValue.floatValue"}),s=(0,G.on)(),l=s.inputTokenInfo,c=s.outputTokenInfo,d=(0,G.tX)(),m=d.isWarning,p=d.isDanger,f=(0,K.Z)(),x=f.showSummary,v=f.setSpotSummary,h=j.useState(x),g=(0,i.Z)(h,2),w=g[0],y=g[1];if(j.useEffect((function(){(m||p)&&y(!0)}),[m,p]),!l||!c)return null;return(0,A.jsxs)("div",{className:"mx-1 mt-5 lg:mx-0 lg:my-5",children:[o?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"flex justify-between",children:[(0,A.jsx)("span",{className:"flex flex-col",children:(0,A.jsx)(q.Z,{className:"text-xs font-medium",inputAmount:o.quoteResponse.inAmount,outputAmount:o.quoteResponse.outAmount,inputPair:l,outputPair:c,reversible:!0})}),(0,A.jsxs)("button",{type:"button",onClick:function(){w?(y(!1),v(!1)):(y(!0),v(!0))},className:"flex cursor-pointer items-start space-x-2 text-white/25 hover:text-v2-primary",children:[(0,A.jsx)("div",{className:"flex h-4 w-4 items-center fill-current",children:w?(0,A.jsx)(U.Z,{}):(0,A.jsx)(z.Z,{})}),(0,A.jsx)("span",{className:"text-xs font-medium",children:w?(0,A.jsx)(u.cC,{id:"DPM6n/"}):(0,A.jsx)(u.cC,{id:"YvPON1"})}),r]})]}),w&&(0,A.jsx)(we,{route:o.quoteResponse,loading:t,inputPair:l,outputPair:c})]}):a>0?(0,A.jsxs)("div",{className:"flex justify-between",children:[(0,A.jsx)("div",{className:"flex h-4 w-4 items-center fill-current"}),r]}):null,(0,A.jsxs)("div",{className:"mt-2 flex w-full flex-col space-y-2 sm:mt-4",children:[(0,A.jsx)(ue,{token:l}),(0,A.jsx)(ue,{token:c})]})]})},ke=n(57715),Ne=n(16344),Se=n(96404),Te=function(e){var t=e.control,n=e.name,r=e.className,o=e.useWSol,i=(0,p.Bn)().tokenMap,a=(0,p.Os)().connected,s=(0,b.qo)({control:t,name:n}),l=j.useMemo((function(){return i.get(s)}),[i,s]);return a?(0,A.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,A.jsx)("div",{className:"mb-px fill-current text-white-75",children:(0,A.jsx)(Ne.Z,{width:12,height:12})}),(0,A.jsxs)("div",{className:(0,C.cn)("whitespace-nowrap text-xs font-normal text-v2-lily/50",r),children:[(0,A.jsx)(Se.Z,{mintAddress:s,useWSOL:o})," ",(0,A.jsx)("span",{children:null===l||void 0===l?void 0:l.symbol})]})]}):null},Ce=n(95523),Oe=n(57281),Pe=n(11823),Me=n(56720),Ze=n(67768),Ve=n(40993),Ae=n(75206),Re=n(11711),Ie=n(3011),De=n(39268),Be=n.n(De),Ee=n(85948),_e=n(33130),Le=n(91553),Fe=n(81098),qe={quotedSlippage:(0,n(9364).cn)(void 0)},Ke=n(11421),ze=n(14167),Ue=n(49488),Ge=n(11003),He=n(51232),We=n(62146),Qe=n(10563),Ye=n(66989),Je=n(42916),Xe=function(e){var t=e.ammName,n=e.excludeAmm,r=(0,_.JT)().closeModal;return(0,A.jsxs)("div",{className:"max-w-md bg-v2-background p-5",children:[(0,A.jsx)("p",{className:"mb-8 text-xl font-medium leading-5",children:"Transaction Failure"}),(0,A.jsxs)("p",{className:"mb-2 text-sm text-v2-lily/75",children:["Your transaction failed due to an issue with ",t]}),(0,A.jsx)("p",{className:"mb-8 text-sm text-v2-lily/75",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,A.jsxs)(P.Z,{className:"mb-2",size:"md",onClick:function(){n(),r()},children:["Exclude ",t," and Fetch New Quote"]}),(0,A.jsx)("button",{className:"mt-2 h-14 w-full rounded-xl border border-v2-lily/25",onClick:r,children:"Cancel"})]})},$e=function(e){var t=e.onClickExactIn;return(0,A.jsxs)("div",{className:"mt-2 flex flex-col justify-start rounded-lg border border-warning/50 bg-warning/10 px-3 py-2 text-xs text-perps-warning",children:[(0,A.jsx)("p",{children:c.ag._({id:"CkQDpF"})}),t&&(0,A.jsx)("div",{onClick:t,className:"mt-2 cursor-pointer underline",children:c.ag._({id:"/Kt5Cd"})})]})},et=n(92956),tt=n(65558),nt=n.n(tt),rt=n(57917),ot=n(37124),it=n(33118),at=n(89881),st=function(e){var t=e.control,n=e.loading,r=e.error,o=e.moreErrors,a=e.simulationButtonText,s=(0,et.O)().connected,l=(0,b.cl)({control:t}).isSubmitting,m=(0,b.qo)({control:t,name:"fromTokenAddress"}),f=(0,b.qo)({control:t,name:"toTokenAddress"}),x=(0,b.qo)({control:t,name:"selectedRoute"}),h=(0,b.qo)({control:t,name:"fromValue"}),g=(0,b.qo)({control:t,name:"toValue"}),w=(0,b.qo)({control:t,name:"toastId"}),y=(0,p.jB)().useWSol,k=(0,p.Bn)().tokenMap,N=(0,p.FB)(m,void 0,y).balance,S=(0,p.gZ)().nativeAccount,T=(0,G.gJ)(),C=j.useMemo((function(){return null===k||void 0===k?void 0:k.get(m)}),[m,k]),O=j.useMemo((function(){return null===k||void 0===k?void 0:k.get(f)}),[f,k]),P=j.useMemo((function(){var e=N,t=null===C||void 0===C?void 0:C.decimals;if(x&&t){var n=x.quoteResponse.swapMode===Oe.jr.ExactOut?new v.Z(x.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,C.decimals)):null===h||void 0===h?void 0:h.value;return new v.Z(n||0).lessThanOrEqualTo(e)}return!0}),[C,h,N,x]),M=j.useMemo((function(){if(T&&x){var e=!y&&x.quoteResponse.inputMint.equals(Oe.W4)?new(nt())(x.quoteResponse.inAmount.toString()):new(nt())(0);return((null===S||void 0===S?void 0:S.info.amount)||new(nt())(0)).sub(e).gt(new(nt())(T.minimumSOLForTransaction))}return!0}),[T,x,S,y]),Z=(0,at.useIsAccountFrozen)(C),V=(0,at.useIsAccountFrozen)(O),R=(0,rt.kH)(w),I=R.isProcessing,D=R.isTxProcessed,B=R.isWaitingWalletToSign,E=j.useState(""),_=(0,i.Z)(E,2),L=_[0],F=_[1],q=j.useState(null),K=(0,i.Z)(q,2),z=K[0],U=K[1],H=j.useCallback((function(e){F("opacity-0"),setTimeout((function(){U(e),F("opacity-100")}),200)}),[]);return j.useEffect((function(){if(n)H((0,A.jsx)(u.cC,{id:"yQE2r9"}));else{var e={fromTokenAddress:m,toTokenAddress:f,fromValue:h,toValue:g};if(r)return r===d.D1.TOKEN_NOT_TRADABLE?H(c.ag._({id:"tz4GX1"})):r===d.D1.COULD_NOT_FIND_ANY_ROUTE||r===d.D1.NO_ROUTES_ERROR?((0,Ke.Kz)(Ee.bk.NO_ROUTES_ERROR,e),H(c.ag._({id:"ZSrFB6"}))):r===d.D1.ROUTE_PLAN_DOES_NOT_CONSUME_ALL_THE_AMOUNT?H((0,A.jsx)(u.cC,{id:"P25nfv"})):r===d.D1.INVALID_REQUEST?H(c.ag._({id:"71Xwww"})):H((0,A.jsx)(u.cC,{id:"pspLgZ",components:{0:(0,A.jsx)("br",{})}})),void(0,Ke.Kz)(r,e);l?a?H(a):D?H((0,A.jsx)(u.cC,{id:"zisYnV"})):I&&H((0,A.jsx)(u.cC,{id:"vrnnn9"})):H((0,A.jsx)(u.cC,{id:"vH2C/2"}))}}),[I,l,D,B,n,H,x,null===h||void 0===h?void 0:h.value,a,r,m,f,h,g]),s?(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{className:(0,de.cn)("relative mt-2"),children:(0,A.jsx)(ot.Z,{disabled:!x||!P||!M||n||o.notTradableYet||!(null!==h&&void 0!==h&&h.value)||!(null!==g&&void 0!==g&&g.value)||Z||V,loading:l,type:"submit",className:"relative !transition-none",children:n?(0,A.jsx)(u.cC,{id:"yQE2r9"}):null!==o&&void 0!==o&&o.notTradableYet?(0,A.jsx)(u.cC,{id:"t+lyiG"}):null!==h&&void 0!==h&&h.value?P?M?Z||V?(0,A.jsx)(u.cC,{id:"DtetjN"}):(0,A.jsx)("span",{className:(0,de.cn)("duration-200",L),children:z}):(0,A.jsx)(u.cC,{id:"GyFBKR"}):(0,A.jsx)(u.cC,{id:"UsQ5AM",values:{0:null===C||void 0===C?void 0:C.symbol}}):(0,A.jsx)(u.cC,{id:"iPMIoT"})})})}):(0,A.jsx)(it.Z,{className:"mt-2"})},lt=n(41118),ut=n(66956),ct=n(23632),dt=n(85394),mt=Be()((function(){return n.e(20278).then(n.bind(n,20278))}),{ssr:!1,loadableGenerated:{webpack:function(){return[20278]}}}),pt="PAIRS_SELECT_TO_PAIR_MODAL_ID",ft=function(e){var t,n=e.onSubmit,r=e.refresh,o=e.loading,i=e.onClickMax,a=e.control,s=e.setValue,l=e.type,d=e.getValues,m=e.fromTokenInfo,f=e.toTokenInfo,x=e.isSubmitting,h=e.notTradableYet,b=e.error,w=e.simulationButtonText,y=(0,p.mQ)().slippageSettings,k=(0,ut.b)(m,f),N=k.quoteTokenInfo,S=k.baseTokenInfo,T=k.quoteTokenPrice,C=k.baseTokenPrice,O=k.rateDecimals,Z=j.useMemo((function(){if(!lt.d.find((function(e){return e===(null===m||void 0===m?void 0:m.address)||e===(null===f||void 0===f?void 0:f.address)})))return null;var e=(null===m||void 0===m?void 0:m.address)===(null===S||void 0===S?void 0:S.address);return{isFromBase:Boolean(e)}}),[null===S||void 0===S?void 0:S.address,null===m||void 0===m?void 0:m.address,null===f||void 0===f?void 0:f.address]),I=(0,ct.s)({quoteTokenInfo:N,baseTokenInfo:S,quoteTokenPrice:T,baseTokenPrice:C,isBaseQuoteMode:Z,rateDecimals:O,isSubmitting:x}),D=I.swapMarketPrice,B=I.isFetching,E=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),_=E[0],L=E[1],q=(0,j.useState)({formattedValue:"",value:"",floatValue:0}),K=q[0],z=q[1],U=Boolean(!B&&D),G=j.useMemo((function(){var e=new v.Z(0);if(!U||!_||!D||!_.floatValue)return e;var t=new v.Z(_.floatValue).sub(D).div(D);return(e=new v.Z(100).mul(t).toDP(2)).isFinite()?e:new v.Z(0)}),[U,_,D]),H=j.useMemo((function(){return G.gt(1e4)?">10000":"".concat(G.toNumber()>0?"+":"").concat(G.toDP(2).toString())}),[G]),W=j.useMemo((function(){return null!==Z&&void 0!==Z&&Z.isFromBase?G.toNumber()<0:G.toNumber()>0}),[null===Z||void 0===Z?void 0:Z.isFromBase,G]),Q=j.useMemo((function(){return null!==Z&&void 0!==Z&&Z.isFromBase?G.toNumber()>0:G.toNumber()<0}),[null===Z||void 0===Z?void 0:Z.isFromBase,G]),Y=j.useMemo((function(){return W||Q}),[W,Q]),J=d().fromValue;(0,j.useEffect)((function(){if(null!==J&&void 0!==J&&J.floatValue&&_.floatValue&&f){var e=null!==Z&&void 0!==Z&&Z.isFromBase?new v.Z(J.floatValue).mul(_.floatValue).toDP(f.decimals):new v.Z(J.floatValue).div(_.floatValue).toDP(f.decimals);z({formattedValue:e.toString(),value:e.toString(),floatValue:e.toNumber()})}else z({formattedValue:"",value:"",floatValue:void 0})}),[null===J||void 0===J?void 0:J.floatValue,D,_.floatValue,f,Z]),(0,j.useEffect)((function(){U&&D&&L({formattedValue:D.toString(),value:D.toString(),floatValue:D.toNumber()})}),[U,D]);var X=(0,j.useCallback)((function(e){if(e.preventDefault(),"minimum-output"!==y.mode)n();else{if(!K.floatValue||!f)return;n({minimumOutput:g().BigInt(new v.Z(K.floatValue).mul(Math.pow(10,f.decimals)).toFixed())})}}),[K.floatValue,n,y.mode,f]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(mt,{onlySlippageSettings:!0,refresh:r,loading:o,isLaunchPage:!0}),(0,A.jsxs)("form",{onSubmit:X,children:[(0,A.jsxs)("div",{className:"relative mt-1 flex-col space-y-2",children:[(0,A.jsxs)("div",{className:"flex justify-between",children:[(0,A.jsx)("label",{htmlFor:"fromValue",className:"text-xs font-medium text-white md:text-sm",children:(0,A.jsx)(u.cC,{id:"67NyRk"})}),(0,A.jsxs)("div",{className:"flex space-x-2",children:[(0,A.jsx)("div",{className:"item-center ml-1 flex cursor-pointer hover:text-white-50",onClick:i,children:(0,A.jsx)(Te,{control:a,name:"fromTokenAddress",className:"hover:text-white-50"})}),(0,A.jsx)(Pe.oi,{mint:null!==(t=null===m||void 0===m?void 0:m.address)&&void 0!==t?t:"",onBalanceChange:function(e){s("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,A.jsx)("div",{className:(0,de.cn)("group relative flex h-[72px] flex-col space-y-3 rounded-xl border border-transparent bg-v2-background-dark p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,A.jsxs)("div",{className:"flex",children:[(0,A.jsx)(F,{disableTokenSelect:"sell"===(null===l||void 0===l?void 0:l.side),getValues:d,control:a,modalId:pt,name:"fromTokenAddress"}),(0,A.jsx)("span",{className:"flex-1 text-right",children:(0,A.jsx)(R,{control:a,name:"fromValue"})})]})}),"minimum-output"===y.mode&&(0,A.jsx)("div",{className:"my-2 flex-col-reverse space-y-2 sm:flex sm:flex-row sm:space-x-3 sm:space-y-0",children:(0,A.jsxs)("div",{className:(0,de.cn)("flex w-full flex-col justify-center space-y-1 rounded-xl bg-v2-background-dark p-4","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","relative"),children:[(0,A.jsxs)("div",{className:"flex justify-between",children:[(0,A.jsxs)("div",{className:"flex items-center",children:[S?(0,A.jsxs)("p",{className:"flex items-center text-xs text-white-35",children:[null!==Z&&void 0!==Z&&Z.isFromBase?(0,A.jsx)(u.cC,{id:"xNB0TS"}):(0,A.jsx)(u.cC,{id:"qiOIiY"})," ",(0,A.jsx)(u.cC,{id:"kBSo/e",values:{0:null===S||void 0===S?void 0:S.symbol}}),B?(0,A.jsx)(dt.Z,{className:"ml-1",width:8,height:8}):null]}):(0,A.jsx)(M.O,{className:"h-4 w-2"}),Y?(0,A.jsx)("div",{className:(0,de.cn)("ml-1 flex items-center text-xs font-medium",{"text-jupiter-yellow":W,"text-v2-primary":Q}),children:"(".concat(H,"%)")}):null]}),D&&D.gt(0)?(0,A.jsx)("button",{type:"button",className:"cursor-pointer rounded text-xxs text-white-35 underline hover:text-white-75",onClick:function(){D&&L({formattedValue:D.toString(),value:D.toString(),floatValue:D.toNumber()})},children:(0,A.jsx)(u.cC,{id:"+NNtb4"})}):null]}),(0,A.jsxs)("div",{className:"relative flex items-end",children:[(0,A.jsx)(V.Z,{decimals:O,onChange:function(e){L(e)},value:_.floatValue,disabled:!1,className:"flex-1 !text-left !text-sm"}),N?(0,A.jsx)("div",{className:"flex items-center",children:(0,A.jsx)("span",{className:"text-sm font-semibold",children:null===N||void 0===N?void 0:N.symbol})}):(0,A.jsx)(M.O,{className:"h-6 w-11"})]})]})}),(0,A.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,A.jsx)("label",{className:"text-xs font-medium text-white md:text-sm",children:"minimum-output"===y.mode?c.ag._({id:"uKboGs"}):c.ag._({id:"CCrO9m"})}),(0,A.jsx)("div",{className:"flex",children:(0,A.jsx)(Te,{control:a,name:"toTokenAddress"})})]}),(0,A.jsx)("div",{className:"flex h-[72px] flex-col space-y-3 rounded-xl border-0 bg-[rgba(14,19,32,0.3)] p-4",children:(0,A.jsxs)("div",{className:"flex",children:[(0,A.jsx)(F,{disableTokenSelect:"buy"===(null===l||void 0===l?void 0:l.side),getValues:d,control:a,modalId:pt,name:"toTokenAddress"}),(0,A.jsx)("span",{className:"h-10 flex-1 text-right",children:f&&(0,A.jsx)(V.Z,{className:"outline-none disabled:!text-white",decimals:f.decimals,onChange:function(){},value:K.floatValue,disabled:!0})})]})})]}),"minimum-output"!==y.mode||K.floatValue?(0,A.jsx)(st,{loading:o,control:a,error:b,moreErrors:{notTradableYet:h},simulationButtonText:w}):(0,A.jsx)("div",{className:(0,de.cn)("relative mt-3"),children:(0,A.jsx)(P.Z,{disabled:!0,loading:x,type:"submit",className:(0,de.cn)("relative w-full border border-transparent bg-[#121D28] !transition-none",x?(0,de.cn)("bg-[#0f2d3d] transition-all duration-200 [&>div]:!text-labs"):""),children:c.ag._({id:"2T1hut"})})})]})]})},xt=n(18849),vt=n(795).Buffer;vt.from([229,23,203,151,122,227,173,42]),vt.from([193,32,155,51,65,214,156,129]),vt.from([208,51,239,151,123,43,237,92]),vt.from([176,209,105,168,154,125,69,62]);function ht(e,t,n){return gt.apply(this,arguments)}function gt(){return gt=(0,r.Z)(l().mark((function e(t,n,o){var i,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>3&&void 0!==a[3]?a[3]:4,e.abrupt("return",new Promise(function(){var e=(0,r.Z)(l().mark((function e(r){var a,s,u,c,d,m,p,f,h,g,j;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null,s=null,setTimeout((function(){r({context:s,value:a})}),1e4);case 3:if(!(i>=0)){e.next=37;break}if(e.prev=4,"swapTransaction"in n){e.next=7;break}return e.abrupt("return");case 7:if(c=void 0,!(n.swapTransaction instanceof x.VersionedTransaction)){e.next=12;break}c=n.swapTransaction,e.next=16;break;case 12:if(n.swapTransaction.feePayer){e.next=14;break}throw new Error("No fee payer found");case 14:d=new x.TransactionMessage({payerKey:n.swapTransaction.feePayer,recentBlockhash:n.blockhash,instructions:n.swapTransaction.instructions}).compileToV0Message(),c=new x.VersionedTransaction(d);case 16:return e.next=18,t.simulateTransaction(c,{replaceRecentBlockhash:!0,commitment:"processed"});case 18:if(m=e.sent,s=m.context,p=null===(u=m.value.logs)||void 0===u?void 0:u.reverse().find((function(e){return e.startsWith("Program return: JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4")})),f=(null===p||void 0===p?void 0:p.split(" ").reverse()[0])||"",h=xt.base64.decode(f),g=h.readBigInt64LE()){e.next=27;break}return i--,e.abrupt("continue",3);case 27:return j="ExactIn"===o.quoteResponse.swapMode?new v.Z(g.toString()).div(o.quoteResponse.outAmount.toString()).minus(1).mul(-1e4):new v.Z(o.quoteResponse.inAmount.toString()).div(g.toString()).minus(1).mul(-1e4),a=j,e.abrupt("break",37);case 32:e.prev=32,e.t0=e.catch(4),i--;case 35:e.next=3;break;case 37:r({context:s,value:a});case 38:case"end":return e.stop()}}),e,null,[[4,32]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),gt.apply(this,arguments)}var jt=n(11805);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=Be()((function(){return n.e(75868).then(n.bind(n,75868))}),{ssr:!1,loadableGenerated:{webpack:function(){return[75868]}}}),kt=Be()((function(){return Promise.resolve().then(n.bind(n,89881))}),{ssr:!1,loadableGenerated:{webpack:function(){return[89881]}}}),Nt=Be()((function(){return n.e(20278).then(n.bind(n,20278))}),{ssr:!1,loadableGenerated:{webpack:function(){return[20278]}}}),St="PAIRS_SELECT_TO_PAIR_MODAL_ID";function Tt(e){return e.map((function(e){return wt(wt({},e),{},{data:Object.keys(e.data).reduce((function(t,n){var r;return e.data&&null!==(r=e.data[n])&&void 0!==r&&r.toString?t[n]=e.data[n].toString():t[n]=e.data,t}),{})})}))}var Ct=function(){return(0,A.jsx)(P.Z,{size:"xs",type:"button",className:"mt-4",onClick:function(){var e;null===(e=document.getElementById("swap-settings-button"))||void 0===e||e.click()},children:c.ag._({id:"G2/8Wt"})})},Ot=function(e){var t=e.inToken,n=e.outToken,a=e.type,s=(0,p.Os)().wallet,h=(0,p.jB)(),P=h.useWSol,M=h.asLegacyTransaction,Z=(0,Re.NL)(),V=(0,p.y6)(),D=V.tokenPriceMap,E=V.getUSDValue,L=j.useMemo((function(){return"launch-page"===(null===a||void 0===a?void 0:a.mode)}),[null===a||void 0===a?void 0:a.mode]),q=(0,Je.Z)().refetch,K=(0,p.C9)(),z=(0,N.T)(),U=(0,p.W2)(),H=(0,b.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:j.useMemo((function(){return(0,ze.w)()}),[])},mode:"all",criteriaMode:"all"}),W=H.handleSubmit,Q=H.setValue,Y=H.reset,J=H.control,X=H.formState,$=X.isSubmitting,ee=X.dirtyFields,te=X.isDirty,ne=H.getValues,re=(0,_.JT)().openModal,oe=(0,p.Bn)(),ie=oe.getTokenInfo,ae=oe.newTokenListMap,se=oe.connection,le=(0,b.qo)({control:J}),ue=le.fromTokenAddress,ce=le.fromValue,de=le.toValue,me=le.toTokenAddress,pe=(0,p.mQ)(),fe=pe.slippage,xe=pe.slippageSettings,ve=pe.setSlippageSettings,he=(0,w.Z)(T.J,null),ge=(0,i.Z)(he,2),be=(ge[0],ge[1]),we=(0,je.gs)(),Ne=we.userMaxFeeInSOL,Se=we.isRequestingMaxFee,De=we.priorityLevel,Be=we.broadcastMode,et=we.isFeeDynamic,tt=we.userMaxFeeInLamports,nt=(0,Ye.EG)().profile,rt=j.useMemo((function(){return{fromTokenInfo:ie(ue),toTokenInfo:ie(me)}}),[ie,ue,me]),ot=rt.fromTokenInfo,it=rt.toTokenInfo;j.useEffect((function(){var e=[];t&&(e.push(t.address),Q("fromTokenAddress",t.address)),n&&(e.push(n.address),Q("toTokenAddress",n.address)),E(e)}),[Q,E,t,n]);var at=j.useRef(!1),lt=j.useMemo((function(){return!1===at.current?ot&&null!==ce&&void 0!==ce&&ce.value?g().BigInt(new v.Z(ce.value).mul(Math.pow(10,ot.decimals)).floor().toFixed()):g().BigInt(0):it&&null!==de&&void 0!==de&&de.value?g().BigInt(new v.Z(de.value).mul(Math.pow(10,it.decimals)).floor().toFixed()):g().BigInt(0)}),[ot,null===ce||void 0===ce?void 0:ce.value,it,null===de||void 0===de?void 0:de.value]),ut=at.current?Oe.jr.ExactOut:Oe.jr.ExactIn,ct=j.useMemo((function(){if(ut!==Oe.jr.ExactOut)return M?void 0:64}),[ut,M]),dt=(0,p.jB)(),mt=j.useMemo((function(){return wt(wt({amount:lt,inputMint:ue?new x.PublicKey(ue):void 0,outputMint:me?new x.PublicKey(me):void 0,maxAccounts:ct,swapMode:ut},"minimum-output"===xe.mode?{slippageBps:0}:"dynamic"===xe.mode?{slippageBps:Math.ceil(100*Number(xe.maxDynamicSlippagePct))}:"fixed"===xe.mode?{slippageBps:Math.ceil(100*Number(fe)),computeAutoSlippage:!0}:void 0),{},{minimizeSlippage:Boolean("true"===jt.env.NEXT_PUBLIC_IS_EDGE)})}),[lt,ue,ct,fe,xe,ut,me]),pt=(0,d.OO)(mt),xt=pt.quoteResponseMeta,vt=pt.loading,gt=pt.refresh,bt=pt.fetchSwapTransaction,Ot=pt.lastRefreshTimestamp,Pt=pt.programIdToLabelMap,Mt=pt.programIdsExcluded,Zt=pt.setProgramIdsExcluded,Vt=pt.error,At=(0,Le.m)().data,Rt=(0,Ie.KO)(qe.quotedSlippage),It=(0,i.Z)(Rt,2),Dt=It[0],Bt=It[1];j.useEffect((function(){null!==xt&&void 0!==xt&&xt.quoteResponse.slippageBps?Bt(null===xt||void 0===xt?void 0:xt.quoteResponse.slippageBps):Bt(void 0)}),[Dt,null===xt||void 0===xt?void 0:xt.quoteResponse.slippageBps,Bt,fe]);var Et=(0,Ie.KO)(Fe.j.amms),_t=(0,i.Z)(Et,2)[1];j.useEffect((function(){if(Pt&&Pt.size>0){var e=(null===At||void 0===At?void 0:At.swapSettings.excludedAmms)||[],t=(0,o.Z)(Pt.entries()).filter((function(t){var n=(0,i.Z)(t,1)[0];return!e.some((function(e){return e===n}))})).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return{label:t[1],ammProgramId:n}}));_t(t)}}),[Pt,_t,null===At||void 0===At?void 0:At.swapSettings]);var Lt=(0,Ie.KO)(Fe.j.userExcludedAmms),Ft=(0,i.Z)(Lt,2),qt=Ft[0],Kt=Ft[1];j.useEffect((function(){var e;Zt(new Set([].concat((0,o.Z)((null===At||void 0===At||null===(e=At.swapSettings)||void 0===e?void 0:e.excludedAmms)||[]),(0,o.Z)(qt.map((function(e){return e.ammProgramId}))))))}),[qt,At,Zt]),j.useEffect((function(){if(Q("selectedRoute",xt),xt){if(!it)return;if(!1===at.current){var e=new v.Z(xt.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,it.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;Q("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!ot)return;var r=new v.Z(xt.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,ot.decimals)),o=r.toFixed()||"",i=r?r.toNumber():r;Q("fromValue",{formattedValue:o,value:o,floatValue:i})}}else Q(!1===at.current?"toValue":"fromValue",void 0)}),[xt,it,Q,ot]),(0,G.Gl)(vt||null===xt||void 0===xt?void 0:xt.quoteResponse,ue,me),j.useEffect((function(){vt&&Q(!1===at.current?"toValue":"fromValue",{formattedValue:"",value:"",floatValue:0})}),[vt,Q]);var zt=(0,_e.R3)(),Ut=(0,Ie.KO)(Ve.yz),Gt=(0,i.Z)(Ut,1)[0],Ht=j.useState(),Wt=(0,i.Z)(Ht,2),Qt=Wt[0],Yt=Wt[1],Jt=(0,f.lm)().toast,Xt=j.useCallback(function(){var e=(0,r.Z)(l().mark((function e(t){var n,a,u,f,x,h,g,j,b,w,y,N,S,T,C,V,R,I,B,E,_,L,F,z,G,H,W,Y,J,X,$,ee,te;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.selectedRoute,f=t.fromTokenAddress,x=t.toTokenAddress,h=t.toastId,g=t.minimumOutput,s&&s.adapter.publicKey&&u&&f&&x){e.next=3;break}return e.abrupt("return");case 3:if(null===U||void 0===U||U.persistReferrer(),j={startTime:void 0},b=Date.now(),w=u,y=(null===(n=D[f||""])||void 0===n?void 0:n.usd)||0,N=new v.Z((null===ce||void 0===ce?void 0:ce.value)||0).mul(y).toString(),S=(null===(a=D[Ae.Gd.toBase58()])||void 0===a?void 0:a.usd)||0,T=new v.Z(N),C=et&&S&&T.gte(100)?v.Z.min(T.div(S).mul(.005),new v.Z(10).div(S)).toDecimalPlaces(9).toNumber():void 0,V=function(){if(C)return C*Math.pow(10,9)}(),R={quoteResponseMeta:w.original,wallet:s.adapter.name,inputAmountInUSD:N,ammLabels:(0,o.Z)((0,ke.Kc)(w.quoteResponse.routePlan).labels),excludedAmms:Array.from(Mt),slippageSettings:xe,jupiterParams:(0,He.w_)(mt),jupiterConfigProps:(0,He.w_)({restrictIntermediateTokens:dt.restrictIntermediateTokens,onlyDirectRoutes:dt.onlyDirectRoutes,useWSol:dt.useWSol,asLegacyTransaction:dt.asLegacyTransaction}),globalPriority:{prioritizationFee:C||Ne,prioritizationFeeLamports:V||tt,isRequestingMaxFee:Se,priorityLevel:De,broadcastMode:Be},profileMode:nt},(0,Ke.Kz)(Ee.NR,wt(wt({},R),{},{deltaFromQuoteMs:Date.now()-Ot})),I=ie(f),B=ie(x),E=function(e){var t=e.txid,n=e.inputMint,r=e.outputMint,o=e.transactionResponse,a=e.jitoResponse,l=e.jitoTipAmount;try{var c,d=(0,Oe.Od)({txid:t,inputMint:n,outputMint:r,hasWrappedSOL:P,transactionResponse:o,user:s.adapter.publicKey}),m=(0,i.Z)(d,2),p=m[0],f=m[1],x=I.symbol,h=O.uf.format(new v.Z(p).div(Math.pow(10,I.decimals))),g=B.symbol,j=O.uf.format(new v.Z(f).div(Math.pow(10,B.decimals))),b=f?new v.Z(f).div(u.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null,w=b?new v.Z(b).div(100).toFixed(2):null,y=!(null===a||void 0===a||!a.result)||void 0,k=y&&l?(0,Ze.lt)(l,9):null!==(c=o.meta)&&void 0!==c&&c.fee?(0,Ze.lt)(o.meta.fee,9):void 0;return{sourceTokenBalanceChange:p,destinationTokenBalanceChange:f,inputSymbol:x,inputAmount:h,outputSymbol:g,outputAmount:j,incurredSlippageBps:b,incurredSlippagePct:w,feeInSOL:k,jitoLanded:y}}catch(N){return null}},_=[],Yt(c.ag._({id:"QPASEU"})),F=function(){var e=(0,r.Z)(l().mark((function e(t){var n,r,a,s,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.quoteResponse,r=n.inputMint,a=n.outputMint,!("error"in t)){e.next=5;break}console.error("Error in swapTransactionResponse",t.error),e.next=9;break;case 5:return e.next=7,zt(t.swapTransaction,{blockhash:t.blockhash,idl:Oe.GS,idlProgramId:d.Cc,lastValidBlockHeight:t.lastValidBlockHeight,skipPreflight:!0},{isSwapTransaction:!0,dynamicFeeMaxCap:V,referenceFee:function(){var e=(0,m.eD)(t.swapTransaction);return e?Number(e):"MEDIUM"===De?Gt.jup2.m:"HIGH"===De?Gt.jup2.h:"VERY_HIGH"===De?Gt.jup2.vh:void 0}(),minimumFee:Ve.uo,toastId:h,submittingMessage:null,onSending:function(){j.startTime=Date.now(),Yt(void 0)},autoResolveOnProcessed:!0,resolveSuccessTitleAndDescription:function(e,n,o,i){var s;_=(0,Oe.vw)(e);var l=E({txid:n,inputMint:r,outputMint:a,transactionResponse:e,jitoResponse:o,jitoTipAmount:i}),u=c.ag._({id:"Cleqqa"});l&&(u=c.ag._({id:"amwDxk",values:{0:l.inputAmount,1:l.inputSymbol,2:l.outputAmount,3:l.outputSymbol}}));var d,m=wt(wt({},R),{},{feeInSOL:null===l||void 0===l?void 0:l.feeInSOL,txid:n,sourceTokenBalanceChange:null===l||void 0===l?void 0:l.sourceTokenBalanceChange,destinationTokenBalanceChange:null===l||void 0===l?void 0:l.destinationTokenBalanceChange,incurredSlippage:null===l||void 0===l?void 0:l.incurredSlippageBps,events:Tt(_),computeUnitsConsumed:null===(s=e.meta)||void 0===s?void 0:s.computeUnitsConsumed,dynamicSlippageReport:t.dynamicSlippageReport,jitoLanded:null===l||void 0===l?void 0:l.jitoLanded});(j.startTime&&(0,Ke.Kz)(Ee.o1,wt(wt({},m),{},{ping:(Date.now()-j.startTime)/1e3})),null!==U&&void 0!==U&&U.referrerAccount)&&(0,Ke.Kz)(Ee.Yl,wt(wt({},m),{},{referrerAccount:U.referrerAccount.toString(),feeBps:null===(d=U.feeBps)||void 0===d?void 0:d.toString()}));return{title:"",description:u}},resolveErrorTitleAndDescription:function(e,n){var s=(0,Oe.IS)(e),l=s.message,u=s.code,m=s.programIds,f=s.txid,x=f&&null!==n&&void 0!==n&&n.transactionResponse?E({txid:f,inputMint:r,outputMint:a,transactionResponse:n.transactionResponse}):null,h=function(){var e,t=(null===m||void 0===m?void 0:m.reduce((function(e,t){var n=Pt.get(t);return n?[n,t]:e}),["",""]))||["",""],n=(0,i.Z)(t,2),r=n[0],a=n[1],s=u&&(null===(e={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]}[a])||void 0===e?void 0:e.includes(u));if(r&&!s)return re((0,A.jsx)(Xe,{ammName:r,excludeAmm:function(){Zt((function(e){var t=qt.map((function(e){return e.ammProgramId}));return M?new Set([].concat((0,o.Z)(t),[a])):(e.add(a),new Set([].concat((0,o.Z)(t),(0,o.Z)(e))))}))}}),{noCloseButton:!1}),{title:c.ag._({id:"A5SJF8",values:{faultyAmmLabel:r}}),description:u?c.ag._({id:"r3e05H",values:{code:u}}):l,shouldShowFeedbackLink:!0};var f=d.Cc.toBase58(),h=d.sv;if(null!==m&&void 0!==m&&m.some((function(e){return e===f}))||s){if(u===d.sv.SlippageToleranceExceeded.code||s){var g=function(){var e,t,n=L&&"dynamicSlippageReport"in L&&null!==(e=L.dynamicSlippageReport)&&void 0!==e&&e.slippageBps?new v.Z(null===(t=L.dynamicSlippageReport)||void 0===t?void 0:t.slippageBps).div(100):null,r=null!==x&&void 0!==x&&x.incurredSlippagePct?Number(null===x||void 0===x?void 0:x.incurredSlippagePct):null;return r?"fixed"===xe.mode?{title:c.ag._({id:"Ql8gPs"}),description:(0,A.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,A.jsx)("p",{children:c.ag._({id:"A4rcdv",values:{incurredSlippagePct:r}})}),(0,A.jsx)("p",{children:c.ag._({id:"XU0vnD"})})]})}:"minimum-output"===xe.mode?{title:c.ag._({id:"IZu71w"}),description:(0,A.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,A.jsx)("p",{children:c.ag._({id:"awrHjc"})})})}:r>=p.oo?{title:c.ag._({id:"Tfrtw5"}),description:(0,A.jsxs)("div",{className:"mb-4 flex flex-col gap-y-2",children:[(0,A.jsx)("p",{children:c.ag._({id:"vLN4hr",values:{incurredSlippagePct:r}})}),(0,A.jsx)("p",{children:c.ag._({id:"2NrJLl"})}),(0,A.jsx)(Ct,{})]})}:r<xe.maxDynamicSlippagePct?{title:c.ag._({id:"Ql8gPs"}),description:n?(0,A.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,A.jsx)("p",{children:"The final slippage was ".concat(r,"% and it has exceeded the optimized slippage at ").concat(n,"%.")})}):(0,A.jsx)("div",{className:"flex flex-col gap-y-2",children:(0,A.jsx)("p",{children:"The final slippage was ".concat(r,".")})})}:r>xe.maxDynamicSlippagePct?{title:c.ag._({id:"4UCKKK"}),description:(0,A.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,A.jsx)("p",{children:c.ag._({id:"ybpHil",values:{incurredSlippagePct:r}})}),(0,A.jsx)("p",{children:c.ag._({id:"r14tPR"})}),(0,A.jsx)(Ct,{})]})}:((0,Ke.Kz)(Ee.A$,wt(wt({},R),{},{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n})),n?{title:c.ag._({id:"Ql8gPs"}),description:c.ag._({id:"xKXM1M",values:{incurredSlippagePct:r,dynamicSlippageSubmittedPct:n}})}:{title:c.ag._({id:"Ql8gPs"}),description:c.ag._({id:"7b18nw",values:{incurredSlippagePct:r}})}):{title:c.ag._({id:"IZu71w"}),description:c.ag._({id:"9l/HZb"})}}();return{title:g.title,description:g.description,shouldShowFeedbackLink:!1}}if(u===h.BalancesNotExtractedProperly.code)return{title:c.ag._({id:"KEtDKy"}),shouldShowFeedbackLink:!0};if(u===h.TransactionNotConfirmed.code)return{title:c.ag._({id:"XLzgMr"}),description:c.ag._({id:"fnUfx2"}),shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1};if(u===h.TransactionExpiredBlockheightExceeded.code)return{title:c.ag._({id:"HxpEyw"}),description:c.ag._({id:"jsGkrq"}),shouldShowFeedbackLink:!0}}switch(u){case h.InsufficientSOL.code:return{title:c.ag._({id:"GyFBKR"}),description:c.ag._({id:"Qfmu8/"}),shouldShowFeedbackLink:!0};case h.FrozenAccount.code:return{title:c.ag._({id:"MDUjKS"}),description:c.ag._({id:"Xl2KCt"}),shouldShowFeedbackLink:!0}}return{title:l||(null===u||void 0===u?void 0:u.toString())||"",description:u?c.ag._({id:"r3e05H",values:{code:u}}):l,shouldShowFeedbackLink:!0}}();return(0,Ke.Kz)(Ee.xp,wt(wt(wt(wt({txid:f,code:u,message:l,programIds:m},R),h),{},{sourceTokenBalanceChange:null===x||void 0===x?void 0:x.sourceTokenBalanceChange,destinationTokenBalanceChange:null===x||void 0===x?void 0:x.destinationTokenBalanceChange,incurredSlippage:null===x||void 0===x?void 0:x.incurredSlippageBps,events:Tt(_)},j.startTime?{pingInSecond:(Date.now()-j.startTime)/1e3}:void 0),{},{feeInSOL:null===x||void 0===x?void 0:x.feeInSOL,dynamicSlippageReport:t.dynamicSlippageReport})),h}});case 7:(s=e.sent).success?(be({fromPair:I.address,toPair:B.address}),Z.invalidateQueries({queryKey:[p.gj]})):"error"in s&&s.error&&4001===(null===(g=s.error.error)||void 0===g?void 0:g.code)&&ht(se,t,u,0).then((function(e){var n=e.context,r=e.value;(0,Ke.Kz)(Ee.Nc,wt(wt({error:s.error.error},R),{},{pingInSecond:(Date.now()-b)/1e3,rejectedSimulationSlippage:null===r||void 0===r?void 0:r.toNumber(),quoteContextSlot:w.quoteResponse.contextSlot,rejectedSimulationSlot:null===n||void 0===n?void 0:n.slot,dynamicSlippageReport:t.dynamicSlippageReport}))})).catch((function(){}));case 9:q(),K([f,x,k.W4]),gt();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=21,z=null===s||void 0===s?void 0:s.adapter.publicKey){e.next=25;break}return e.abrupt("return");case 25:if(G={quoteResponseMeta:w,userPublicKey:z,wrapUnwrapSOL:!P,allowOptimizedWrappedSolTokenAccount:!0,prioritizationFeeLamports:{priorityLevelWithMaxLamports:{maxLamports:tt,global:!1,priorityLevel:function(){switch(De){case"MEDIUM":return"medium";case"HIGH":return"high";case"VERY_HIGH":return"veryHigh"}}()}}},"fixed"!==xe.mode){e.next=32;break}return e.next=29,bt(G);case 29:L=e.sent,e.next=55;break;case 32:if("minimum-output"!==xe.mode||!g){e.next=40;break}return w.quoteResponse.outAmount=g,w.original.outAmount=g.toString(),e.next=37,bt(G);case 37:L=e.sent,e.next=55;break;case 40:if("dynamic"!==xe.mode){e.next=55;break}return G.dynamicSlippage="dynamic"===xe.mode?{maxBps:Math.round(100*xe.maxDynamicSlippagePct)}:void 0,e.next=44,bt(G);case 44:if("swapTransaction"in(L=e.sent)){e.next=47;break}throw new Error("No swapTransaction in swapTransactionResponseToUse");case 47:if(Y=new v.Z((null===(H=L.dynamicSlippageReport)||void 0===H?void 0:H.simulatedIncurredSlippageBps)||0),Boolean(Y&&new v.Z(-1*xe.maxDynamicSlippagePct*100).gte(Y))&&(J=function(){var e=new v.Z(Y).mul(-1).div(100).toNumber();return xe.maxDynamicSlippagePct<p.oo?{title:c.ag._({id:"SaPP8z"}),description:(0,A.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,A.jsx)("p",{children:c.ag._({id:"9Ja0ta",values:{simulatedIncurredSlippagePct:e}})}),(0,A.jsx)("p",{children:c.ag._({id:"bjQCJE"})}),(0,A.jsx)(Ct,{})]})}:{title:c.ag._({id:"cFP4Ga"}),description:(0,A.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,A.jsx)("p",{children:c.ag._({id:"fFgRd0",values:{simulatedIncurredSlippagePct:e}})}),(0,A.jsx)("p",{children:c.ag._({id:"2NrJLl"})}),(0,A.jsx)(Ct,{})]})}}(),X=J.title,$=J.description,Jt({title:X,description:$,variant:Ge.Lb.INFO,duration:1e4})),ee=null===(W=L.dynamicSlippageReport)||void 0===W?void 0:W.slippageBps){e.next=53;break}throw new Error("Could not optimise slippage");case 53:te=new v.Z(ee).div(100).toNumber(),Yt((0,A.jsxs)("div",{children:[c.ag._({id:"2JmVX8"})," ",te,"%"]}));case 55:e.next=60;break;case 57:e.prev=57,e.t0=e.catch(21),console.log("Error getting swap transaction",e.t0);case 60:if(e.prev=60,L){e.next=63;break}throw new Error("No swapTransactionResponseToUse");case 63:return e.next=65,F(L);case 65:e.next=70;break;case 67:e.prev=67,e.t1=e.catch(60),console.log("Error performing swap",e.t1);case 70:return e.prev=70,Q("toastId",(0,ze.w)()),Yt(void 0),e.finish(70);case 74:case"end":return e.stop()}}),e,null,[[21,57],[60,67,70,74]])})));return function(t){return e.apply(this,arguments)}}(),[et,M,se,qt,zt,bt,null===ce||void 0===ce?void 0:ce.value,ie,Be,Se,Ne,tt,De,dt,mt,re,Pt,Mt,Z,Gt.jup2.h,Gt.jup2.m,Gt.jup2.vh,U,K,gt,q,be,Zt,Q,xe,Jt,D,P,s,Ot,nt]),$t=(0,T.V)();(0,y.Z)((function(){$t[0]&&$t[1]&&(ot&&ot.address!==$t[0].address&&Q("fromTokenAddress",$t[0].address),it&&it.address!==$t[1].address&&Q("toTokenAddress",$t[1].address))}),$t);var en=(0,S.Z)();j.useEffect((function(){en&&Q("fromValue",{formattedValue:en,value:en,floatValue:Number(en)})}),[Q,en]);var tn=j.useRef("");j.useEffect((function(){((!1===at.current?ee.fromValue:ee.toValue)||ee.toTokenAddress||ee.fromTokenAddress)&&(tn.current="")}),[ee.fromValue,ee.toTokenAddress,ee.fromTokenAddress,ee.toValue]);var nn=j.useCallback((function(){if(!vt&&it&&ot){var e=ne(),t=e.fromTokenAddress,n=e.toTokenAddress,r=e.fromValue,o=e.toValue,i=tn.current;!tn.current&&Number((null===r||void 0===r?void 0:r.floatValue)||0)>0&&null!==xt&&void 0!==xt&&xt.quoteResponse&&(i=!1===at.current?new v.Z(xt.quoteResponse.outAmount.toString()).div(Math.pow(10,it.decimals)).toString():new v.Z(xt.quoteResponse.inAmount.toString()).div(Math.pow(10,ot.decimals)).toString()),Y(wt({fromTokenAddress:t,toTokenAddress:n},!1===at.current?{fromValue:{value:i,floatValue:Number(i),formattedValue:i}}:{toValue:{value:i,floatValue:Number(i),formattedValue:i}})),setTimeout((function(){tn.current=!1===at.current?(null===r||void 0===r?void 0:r.value)||"":(null===o||void 0===o?void 0:o.value)||""}),0),z(it,ot)}}),[vt,it,ot,null===xt||void 0===xt?void 0:xt.quoteResponse,z,ne,Y]),rn=(0,p.FB)(ue,void 0,P).balance,on=j.useCallback((function(){var e=new v.Z(rn);ue===k.W4.toBase58()&&(e=e.minus(Me.WO)),Q("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[rn,ue,Q]),an=(0,Ie.KO)(B.dS),sn=(0,i.Z)(an,1)[0].TARGET_MINT,ln=(0,b.qo)({control:J,name:"selectedRoute"}),un=(0,Ue.QX)({disabled:!L}).claimTimes,cn=j.useMemo((function(){var e=null===ln||void 0===ln?void 0:ln.quoteResponse.contextSlot;return!(e||!ae.has(ue)&&!ae.has(me))||(me===sn&&e&&un?e<(null===un||void 0===un?void 0:un.enableSlot):void 0)}),[sn,null===ln||void 0===ln?void 0:ln.quoteResponse.contextSlot,me,un,ue,ae]),dn=j.useRef(null),mn=(0,Qe.Q)({fromTokenInfo:ot,toTokenInfo:it,quoteResponse:null===ln||void 0===ln?void 0:ln.quoteResponse,isLaunchPage:L});j.useEffect((function(){L||"minimum-output"===xe.mode&&ve(p.NH)}),[L,ve,xe.mode]);var pn=j.useCallback((function(e){e.stopPropagation(),Kt([]),gt()}),[gt,Kt]);return j.useMemo((function(){var e;return L?(0,A.jsx)(ft,{onSubmit:function(e){return W((function(t){return Xt(wt(wt({},t),e))}))()},refresh:gt,loading:vt,onClickMax:on,control:J,setValue:Q,type:a,getValues:ne,fromTokenInfo:ot,toTokenInfo:it,isSubmitting:$,notTradableYet:cn,error:Vt,simulationButtonText:Qt}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"mb-2 flex justify-end",children:(0,A.jsx)(Nt,{refresh:gt,loading:vt})}),(0,A.jsx)(yt,{}),(0,A.jsx)("div",{children:(0,A.jsxs)("form",{onSubmit:W(Xt),children:[(0,A.jsxs)("div",{className:"relative flex-col",children:[(0,A.jsxs)("div",{className:(0,C.cn)("relative flex min-h-[124px] flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark",!1===at.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,A.jsx)(u.cC,{id:"HVPy4o"})}),(0,A.jsxs)("div",{className:"flex space-x-2",children:[(0,A.jsx)(Te,{control:J,name:"fromTokenAddress",useWSol:P}),(0,A.jsx)(Pe.oi,{mint:ue,onBalanceChange:function(e){at.current=!1,Q("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}})]})]}),(0,A.jsxs)("div",{ref:dn,className:"flex flex-1 items-center space-x-2",children:[(0,A.jsx)(F,{getValues:ne,control:J,modalId:St,name:"fromTokenAddress"}),(0,A.jsx)("span",{className:"flex-1 text-right",children:(0,A.jsx)(R,{control:J,name:"fromValue",loading:!!at.current&&vt,onKeyDown:function(){at.current=!1},placeholder:te?ut===Oe.jr.ExactIn?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/50"})})]})]}),ot&&(0,A.jsx)(kt,{tokenInfo:ot}),(0,A.jsxs)("div",{className:"relative my-1 flex justify-center",children:[(0,A.jsx)("hr",{className:"absolute top-[calc(50%-1px)] -z-0 w-full border-uiv2/50"}),(0,A.jsx)("div",{className:"z-10 inline-block",children:(0,A.jsx)("button",{type:"button",className:(0,C.cn)("group/flip flex h-8 w-8 cursor-pointer flex-col justify-center rounded-full border-[3px] border-uiv2 bg-v2-background-page text-v2-lily/50","hover:border-v2-primary hover:shadow-swap-input-dark"),onClick:nn,children:(0,A.jsx)("span",{className:"flex w-full justify-center fill-current text-v2-lily/50 transition-none group-hover/flip:text-v2-primary",children:(0,A.jsx)(Ce.Z,{})})})})]}),(0,A.jsxs)("div",{className:(0,C.cn)("relative min-h-[124px]","group flex flex-col space-y-3 rounded-xl border border-transparent p-4","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","hover:bg-v2-background-dark",!0===at.current?"bg-uiv2":"bg-uiv2-background"),children:[(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsx)("span",{className:"text-sm font-medium text-v2-lily",children:(0,A.jsx)(u.cC,{id:"f6aTaB"})}),(0,A.jsx)(Te,{control:J,name:"toTokenAddress",useWSol:P})]}),(0,A.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,A.jsx)(F,{getValues:ne,control:J,modalId:St,name:"toTokenAddress"}),(0,A.jsx)("span",{className:"flex-1 text-right",children:(0,A.jsx)(R,{control:J,name:"toValue",loading:!at.current&&vt,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(at.current=!0)},onPaste:function(){at.current=!0},placeholder:te?ut===Oe.jr.ExactOut?"0.00":"":"0.00",tokenAmountClassname:"font-semibold text-v2-lily",usdValueClassname:"!text-xs font-normal text-v2-lily/25"})})]})]}),it&&(0,A.jsx)(kt,{tokenInfo:it})]}),(0,A.jsx)("div",{className:"mt-2 flex gap-x-1",children:(0,A.jsx)(ke.ZP,{loading:vt,control:J})}),at.current&&(0,A.jsx)($e,{}),(0,A.jsx)(We.Z,{loading:vt,listOfSuggestions:mn}),(0,A.jsx)(st,{simulationButtonText:Qt,loading:vt,control:J,error:Vt,moreErrors:{notTradableYet:cn}}),qt.length>0&&Mt.size>0&&(0,A.jsxs)("div",{className:(0,C.cn)("flex gap-x-1 text-xs text-v2-lily/50",!dt.onlyDirectRoutes&&"mt-2"),children:[(0,A.jsx)("div",{children:c.ag._({id:"880KXG",values:{0:qt.length}})}),(0,A.jsx)("button",{type:"button",className:"underline",onClick:pn,children:"Clear all"})]})]})}),(0,A.jsx)(ye,{loading:vt,control:J,intervalRefresher:(0,A.jsx)(I.Z,{value:null===(e=ne().fromValue)||void 0===e?void 0:e.floatValue,isSubmitting:$,lastRefreshTimestamp:Ot,refresh:gt})})]})}),[J,Vt,qt.length,ue,ot,ne,W,te,L,$,Ot,mn,vt,cn,on,nn,Xt,Mt.size,gt,pn,Q,Qt,ut,it,a,P,dt])}},96065:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.10201 1.28172L8.80544 5.75191C8.94178 5.88275 8.94178 6.1008 8.80544 6.23164L4.10201 10.7018C3.96568 10.8327 3.73846 10.8327 3.60213 10.7018L3.10225 10.2221C2.96592 10.0913 2.96592 9.87321 3.10225 9.74237L6.80592 6.23164C6.94225 6.1008 6.94225 5.88275 6.80592 5.75191L3.12497 2.24118C2.98864 2.11034 2.98864 1.89229 3.12497 1.76145L3.62485 1.28172C3.76118 1.17269 3.96568 1.17269 4.10201 1.28172Z",fill:"currentColor"})})}},70602:function(e,t,n){n(93981);var r=n(29541);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M4.11894 6.99859H6.79173C7.96242 6.99859 8.92699 6.04958 8.94255 4.89521C8.94255 3.72452 7.97798 2.79183 6.79173 2.79183L4.75212 2.79109C4.54675 2.33215 4.08781 2 3.5503 2C2.82298 2 2.23725 2.60129 2.23725 3.31305C2.23725 4.0248 2.83854 4.62609 3.5503 4.62609C4.10414 4.62609 4.56232 4.29394 4.75212 3.835H6.79248C7.40934 3.835 7.91573 4.34139 7.91573 4.91079C7.91573 5.4802 7.40934 5.98659 6.79248 5.98659H4.15083C2.98013 5.98659 2.01556 6.93559 2 8.08997C2 9.27622 2.96457 10.1933 4.15083 10.1933H6.34911C6.55447 10.6523 7.01341 11 7.55093 11C8.27825 11 8.86398 10.3987 8.86398 9.68695C8.86398 8.95964 8.26269 8.37391 7.55093 8.37391C6.99709 8.37391 6.53891 8.70606 6.34911 9.165L4.13527 9.16574C3.51841 9.16574 3.01202 8.65935 3.01202 8.08995C3.01202 7.50498 3.50209 7.01415 4.11894 6.99859Z",fill:"currentColor"})})}},42916:function(e,t,n){var r=n(63956),o=n(72215),i=n(45009),a=n(41144);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(){var e=(0,o.Os)().publicKey;return(0,i.a)(["transactions-".concat(null===e||void 0===e?void 0:e.toBase58())],(function(){return e?a.ZP.get("https://worker.jup.ag/swap-transactions/".concat(e.toBase58()),{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}}).json().then((function(e){return e.swaps.map((function(e){return l(l({},e),{},{inputAmount:e.inputAmount.toString(),outputAmount:e.outputAmount.toString()})}))})):[]}),{enabled:!!e,refetchOnMount:!1,keepPreviousData:!0})}},81098:function(e,t,n){n.d(t,{j:function(){return o}});var r=n(9364),o={amms:(0,r.cn)([]),userExcludedAmms:(0,r.cn)([])}}}]);
//# sourceMappingURL=94561-015629a9d9d21172.js.map