(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61990,77829],{77829:function(t,e,n){"use strict";n.r(e);var r=n(63956),i=(n(93981),n(39268)),o=n.n(i),s=n(67768),a=n(29541);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var l=o()((function(){var t=!0,e=(0,s.EQ)(),r=e.iOS,i=e.version;return r&&i&&i<15&&(t=!1),t?Promise.all([n.e(11197),n.e(13215),n.e(97743),n.e(45942)]).then(n.bind(n,72383)):n.e(64205).then(n.bind(n,64205))}),{loading:function(){return(0,a.jsx)("p",{children:"Loading..."})},loadableGenerated:{webpack:function(){return[72383,64205]}}});e.default=function(t){return(0,a.jsx)(l,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},81562:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(97620),i=n(8473),o=n(7744),s=n(9319),a=n.n(s),u=n(93981),l=n(64138),c=n(45009),d=n(41144),f=function(t){return(0,c.a)(["transaction-detail-".concat(t)],(function(){return d.ZP.get("https://stats.jup.ag/transactions/".concat(t)).json()}))},m=n(77829),x=n(29541),p=a().BigInt(100),h=function(t){var e=t.swapData.map((function(t,e){var n=t.amm,r=t.inMint,i=t.outMint,s=t.inAmount,u=t.outAmount,l=new Uint8Array(32);return l[0]=e,{inputMint:r,outputMint:i,inAmount:a().BigInt(s),outAmount:a().BigInt(u),ammKey:new o.PublicKey(l),label:n,feeAmount:a().BigInt(0),feeMint:o.PublicKey.default}})),n=e.reduce((function(t,e){var n,r=e.inputMint,i=e.inAmount,o=null!==(n=t.get(r))&&void 0!==n?n:{inputAmount:a().BigInt(0),consumedPercents:0,splits:0,consumedAmount:a().BigInt(0)};return o.inputAmount=a().add(o.inputAmount,i),o.splits+=1,t.set(r,o),t}),new Map),i=e.map((function(t){var e=n.get(t.inputMint),i=function(){if(1===e.splits)return[100-e.consumedPercents,a().subtract(e.inputAmount,e.consumedAmount)];var n=a().divide(a().multiply(t.inAmount,p),e.inputAmount),r=a().divide(a().multiply(n,t.inAmount),p);return[a().toNumber(n),r]}(),o=(0,r.Z)(i,2),s=o[0],u=o[1];return e.consumedPercents+=s,e.splits-=1,e.consumedAmount=a().add(e.consumedAmount,u),{swapInfo:t,percent:s}}));return{inputMint:new o.PublicKey(t.inMint),outputMint:new o.PublicKey(t.outMint),slippageBps:0,swapMode:"ExactIn",inAmount:a().BigInt(t.inAmount),outAmount:a().BigInt(t.outAmount),otherAmountThreshold:a().BigInt(0),priceImpactPct:"",routePlan:i,contextSlot:0}},v=function(t){var e=t.transaction,n=f(e.txHash),r=u.useMemo((function(){if(n.data)return h(n.data)}),[n]);return n.error?(0,x.jsx)("div",{style:{height:400},className:"flex w-screen min-w-full max-w-[600px] items-center justify-center space-y-6 bg-[#313E4C]",children:(0,x.jsx)(i.cC,{id:"hB99cp"})}):r?(0,x.jsx)(m.default,{quoteResponse:r}):(0,x.jsx)("div",{style:{height:400},className:"flex w-screen min-w-full max-w-[600px] flex-col justify-between space-y-6 bg-[#313E4C]",children:(0,x.jsx)(l.Z,{width:600,height:380})})}},29036:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return et},default:function(){return nt}});var r=n(97620),i=n(68586),o=n(93981),s=n(72215),a=n(72997),u=n(59603),l=n.n(u),c=n(12866),d=n(24201),f=n(29541),m=function(){var t=(0,o.useState)(!1),e=t[0],n=t[1];return(0,f.jsxs)("div",{className:"hidden md:block",children:[(0,f.jsx)(l(),{className:(0,d.cn)("-translate-x-[160px] translate-y-[170px] transition-all duration-700 ease-in-out",e&&"-translate-x-[20px] translate-y-[10px] opacity-0","fixed bottom-0 left-0"),src:"/images/mobile-mascot.png",alt:"Mobile Mascot",width:247,height:272,priority:!0}),(0,f.jsx)("div",{className:"fixed bottom-0 left-0 h-[100px] w-[100px]",onMouseEnter:function(){return n(!0)}}),(0,f.jsxs)("div",{className:(0,d.cn)(e?"translate-y-0 opacity-100":"translate-y-full opacity-0","fixed bottom-0 left-0 m-6 mt-[200px] w-[360px] rounded-xl border border-[#333741] bg-[#161B26] p-4","flex flex-col gap-2","transition-all duration-500"),onMouseLeave:function(){return n(!1)},children:[(0,f.jsx)("button",{className:"absolute right-5 top-5 text-[#85888E]",onClick:function(){return n(!1)},children:(0,f.jsx)(c.Z,{height:12,width:12})}),(0,f.jsx)("p",{className:"w-[300px] text-base font-semibold text-[#C7F284]",children:"Experience smoother, faster trading with the Jupiter app."}),(0,f.jsx)("a",{href:"/mobile",target:"_blank",className:"self-start text-sm font-normal text-[#E8F9FF8F] underline underline-offset-4 hover:text-[#e8f9ffb8]",children:"Find out more."})]})]})},x=n(27195),p=n(8857),h=n.n(p),v=n(81652),g=n(32529),j=n(30825),y=n(42916),b=n(3380),w=n(4707),N=n(25224),A=n(91596),P=n(76021),Z=n(23877);function M(t){return function(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}({},t)}var O=n(72775),k=n(33219),E=6e4,C=1440,I=43200,B=525600;function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,k.Z)(2,arguments);var r=n.locale||O.Z;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=(0,P.Z)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var o,s,a=M(n);a.addSuffix=Boolean(n.addSuffix),a.comparison=i,i>0?(o=(0,Z.Z)(e),s=(0,Z.Z)(t)):(o=(0,Z.Z)(t),s=(0,Z.Z)(e));var u,l=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===l)u=Math.floor;else if("ceil"===l)u=Math.ceil;else{if("round"!==l)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");u=Math.round}var c,d=s.getTime()-o.getTime(),f=d/E,m=(0,A.Z)(s)-(0,A.Z)(o),x=(d-m)/E;if("second"===(c=null==n.unit?f<1?"second":f<60?"minute":f<C?"hour":x<I?"day":x<B?"month":"year":String(n.unit))){var p=u(d/1e3);return r.formatDistance("xSeconds",p,a)}if("minute"===c){var h=u(f);return r.formatDistance("xMinutes",h,a)}if("hour"===c){var v=u(f/60);return r.formatDistance("xHours",v,a)}if("day"===c){var g=u(x/C);return r.formatDistance("xDays",g,a)}if("month"===c){var j=u(x/I);return 12===j&&"month"!==n.unit?r.formatDistance("xYears",1,a):r.formatDistance("xMonths",j,a)}if("year"===c){var y=u(x/B);return r.formatDistance("xYears",y,a)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function T(t,e){return(0,k.Z)(1,arguments),D(t,Date.now(),e)}var _=n(70006),S=n(59978),H=n(40558),L=n(59394),F=n(58898),K=n(42082),R=n(85216),q=n(24628),z=n(70602),Y=n(81562),G=n(13154),J=n(11017),V=n(25546),X=function(t){var e=t.transaction,n=e.inputAmount,r=e.inputMint,i=e.outputMint,a=e.outputAmount,u=e.txHash,l=e.blockTime,c=(0,s.Bn)().getTokenInfo,d=(0,F.Z)().language,m=(0,_.JT)().openModal,x=(0,K.T)(),p=(0,V.bl)(l),h=(0,o.useMemo)((function(){return c(r)}),[c,r]),v=(0,o.useMemo)((function(){return c(i)}),[c,i]),g=(0,o.useMemo)((function(){return h&&v?{inAmount:(0,N.Z0)(a,v.decimals),outAmount:(0,N.Z0)(n,h.decimals)}:null}),[n,h,a,v]);return(0,f.jsxs)("div",{className:"flex w-full items-center justify-between overflow-hidden rounded-lg bg-history-item p-2 md:px-4 md:py-3",children:[(0,f.jsxs)("div",{className:"hidden flex-col gap-y-1 md:flex",children:[(0,f.jsxs)("div",{className:"flex",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(S.Z,{info:h,width:20,height:20}),(0,f.jsx)("div",{className:"-ml-2",children:(0,f.jsx)(S.Z,{info:v,width:20,height:20})})]}),(0,f.jsxs)("div",{className:"ml-2 flex items-center gap-x-2 text-xs text-v2-lily/70",children:[(0,f.jsxs)("span",{children:[N.uf.format(n)," ",(null===h||void 0===h?void 0:h.symbol)||""]}),(0,f.jsx)("div",{className:"fill-current text-v2-lily/30",children:(0,f.jsx)(J.Z,{})}),(0,f.jsxs)("span",{children:[N.uf.format(a)," ",(null===v||void 0===v?void 0:v.symbol)||""]})]})]}),g&&v&&h?(0,f.jsx)(G.Z,{className:"text-xs",textClassName:"!min-w-[9rem]",inputPair:v,outputPair:h,inputAmount:g.inAmount,outputAmount:g.outAmount}):null]}),(0,f.jsxs)("div",{className:"flex flex-col gap-y-1 md:hidden",children:[(0,f.jsx)("div",{className:"flex",children:(0,f.jsxs)("div",{className:"text-xs",children:[(0,f.jsxs)("div",{className:"flex items-center gap-x-2 text-v2-lily/70",children:[(0,f.jsx)(S.Z,{info:h,width:20,height:20}),(0,f.jsxs)("p",{children:[N.uf.format(n)," ",(null===h||void 0===h?void 0:h.symbol)||""]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-x-2 text-v2-lily/70",children:[(0,f.jsx)(S.Z,{info:v,width:20,height:20}),(0,f.jsxs)("p",{children:[N.uf.format(a)," ",(null===v||void 0===v?void 0:v.symbol)||""]})]})]})}),g&&v&&h?(0,f.jsx)(G.Z,{className:"text-xs",textClassName:"!min-w-[9rem]",inputPair:v,outputPair:h,inputAmount:g.inAmount,outputAmount:g.outAmount}):null]}),(0,f.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,f.jsxs)("div",{className:"flex items-center justify-end gap-x-1 lg:gap-x-2",children:[(0,f.jsx)(H.Z,{content:w.ag._({id:"Yyubcm"}),children:(0,f.jsx)("button",{type:"button",onClick:function(){x(h,v)},className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,f.jsx)(R.Z,{width:10,height:10})})}),(0,f.jsx)(H.Z,{content:w.ag._({id:"oi5bfK"}),children:(0,f.jsx)("button",{type:"button",onClick:function(){m((0,f.jsx)(Y.Z,{transaction:t.transaction}),{noCloseButton:!1,containerStyle:{background:"none"}})},className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,f.jsx)(z.Z,{})})}),(0,f.jsx)(H.Z,{placement:"bottom-start",content:w.ag._({id:"LLapxL"}),children:(0,f.jsx)(L.Z,{txid:u,className:"flex h-7 w-7 items-center justify-center rounded-full border border-v2-lily/10 p-2",children:(0,f.jsx)(q.Z,{width:10,height:10})})})]}),p&&(0,f.jsx)("span",{className:"text-right text-xs font-normal text-v2-lily/30",children:T(p,{locale:d.timeLocale})})]})]})},Q=function(){var t=(0,v.Os)().connected,e=(0,v.Bn)(),n=e.getTokenInfo,r=e.requestTokenInfo,i=e.requestOnChainTokenInfo,s=(0,o.useState)(0),a=s[0],u=s[1],l=(0,o.useState)(!1),c=l[0],d=l[1],m=(0,y.Z)(),p=m.data,w=m.isLoading,N=(0,o.useState)([]),A=N[0],P=N[1],Z=(0,o.useMemo)((function(){return p?Math.ceil(p.length/5):0}),[p]),M=(0,g.Y)({pageIndex:a,setPageIndex:u,pageCount:Z}),O=M.pager,k=M.gotoPage,E=M.canPreviousPage,C=M.canNextPage;return(0,o.useEffect)((function(){if(!(!0===w&&(p||[]).length>0)){var t=(null===p||void 0===p?void 0:p.slice(5*a,5*(a+1)))||[];d(!1);var e=function(){var e=(0,x.Z)(h().mark((function e(){var o,s,a,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=new Set,t.forEach((function(t){o.add(t.inputMint),o.add(t.outputMint)})),s=Array.from(o).filter(Boolean),e.next=6,r(s);case 6:if(a=e.sent,!((u=s.filter((function(t){return void 0===n(t)})).filter((function(t){return void 0===a.find((function(e){return e.address===t}))}))).length>0)){e.next=11;break}return e.next=11,i(u);case 11:P(t),d(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching token infos",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[n,p,w,a,i,r]),t?!w&&p&&0===p.length?(0,f.jsx)("div",{className:"flex h-[150px] w-full items-center justify-center rounded-lg border border-v2-lily/5",children:(0,f.jsx)("p",{className:"text-sm text-v2-lily/50",children:"No swap history"})}):(0,f.jsxs)("div",{className:"flex w-full flex-col lg:gap-y-2",children:[(0,f.jsxs)("div",{className:"relative flex w-full flex-col gap-y-2",children:[!c&&(0,f.jsx)("div",{className:"absolute left-0 top-0 z-20 h-full w-full bg-black/10 backdrop-blur-sm"}),(A||[]).map((function(t){var e=t.inputAmount,n=t.outputAmount,r=t.txHash;return e||n?(0,f.jsx)(X,{transaction:t},r):null}))]}),A&&A.length>0&&Z>0?(0,f.jsx)(j.Z,{canPreviousPage:E,gotoPage:k,pageIndex:a,pager:O,canNextPage:C}):null]}):(0,f.jsxs)("div",{className:"flex h-[200px] w-full flex-col items-center justify-center space-y-2 rounded-lg border border-v2-lily/5",children:[(0,f.jsx)("p",{className:"text-sm text-v2-lily/50",children:"View History"}),(0,f.jsx)(b.T,{})]})},U=n(94561),W=n(13170),$=n(19287),tt=n(22466),et=!0,nt=function(){var t=(0,tt.V)(),e=(0,r.Z)(t,2),n=e[0],u=e[1],l=(0,$.hv)().appDomain,c=(0,s.gZ)().fetchTokenAccounts;return(0,o.useEffect)((function(){n&&u&&c([n.address,u.address,W.W4])}),[n,u,c]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.PB,{title:"Swap"}),(0,f.jsxs)("div",{className:"z-10 w-full",children:[(0,f.jsx)(U.Z,{inToken:n,outToken:u}),(0,$.mD)(l)&&l.container.leftContainerHistories&&l.container.leftContainerHistories.current&&(0,a.createPortal)((0,f.jsx)(Q,{}),l.container.leftContainerHistories.current),(0,$.mD)(l)&&l.container.bottomPageHistories&&l.container.bottomPageHistories.current&&(0,a.createPortal)((0,f.jsx)(Q,{}),l.container.bottomPageHistories.current)]}),(0,f.jsx)(m,{})]})}},54950:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap/[inOut]",function(){return n(29036)}])},99882:function(t,e,n){"use strict";n.d(e,{w:function(){return u}});var r=n(77169),i=n(60021),o=n(31242),s=n(39913),a=n(80049),u=(0,r.z)({chartName:"LineChart",GraphicalChild:i.x,axisComponents:[{axisType:"xAxis",AxisComp:o.K},{axisType:"yAxis",AxisComp:s.B}],formatAxisMap:a.t9})},63989:function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})}},function(t){t.O(0,[13215,94669,28005,59536,67161,36027,94561,49774,92888,40179],(function(){return e=54950,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
//# sourceMappingURL=[inOut]-186c147af75c9d7e.js.map